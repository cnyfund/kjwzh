<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<script type="text/javascript" src="/ui/js/jquery.min.js"></script>
<script type="text/javascript" src="/ui/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="/ui/css/bootstrap.min.css">

<style>
div.number_block{
    width: 22px;
    height: 22px;
    text-align: center;
    border: 1px solid green;
    display: inline-block;
    margin: 3px;
}
div.number_block a:link {
        text-decoration: none;
    }
div.number_block a:visited {
        text-decoration: none;
    }
div.number_block a:hover {
        text-decoration: none;
    }
div.number_block a:active {
        text-decoration: none;
    }

}

</style>
<script>
var current_selected= [];
var selection_prefix_text = '您选择的号码: ';
var balance_title = '您的余额: ';
var userId='11010';

function get_user_info(uId) {
    return { "userId": "11111", "alias":"张涛", "balance": 1000.0, 
             "current_selections": [ 
                 { "id": 45, "selection": [1,5,7,11,34,35], "selection_time": 15992939293, "submit_time": 1582837529, "cost": 1.0, "cost_currency": "CNY" }, 
                 { "id": 46, "selection":[33,34,40,41,43,46], "selection_time": 15992939293} 
            ]
        };
}
function show_balance(userInfo) {
    $("#balance").text(balance_title + userInfo.balance);
}
function display_current_selection() {
    current_selected.sort(function(a, b){return a-b});
    var selection =  selection_prefix_text + current_selected;
    $("#selection").text(selection);
}

function get_next_draw_info() {
    return {"next_draw_time": 1573934400000, "pool_size": 1000000, "first_prize": 75000};
}

function show_next_draw_info(info){
    var draw_date = new Date(0);
    draw_date.setUTCMilliseconds(info.next_draw_time);
    $("#nextdraw").text("下次抽奖时间: " + draw_date.toLocaleString('zh-CN'));
    $("#prize").text("现有奖金: " + info.first_prize);
}

function select_number(num) {
    var pos = current_selected.indexOf(num);
    if (pos > -1) {
        current_selected.splice(pos, 1);
        display_selected_number(num, false);
    } else {
        if (current_selected.length < 6 ){
            current_selected.push(num);
            current_selected.sort();
            display_selected_number(num, true);
        }
    }
    display_current_selection();        
}

function display_selected_number(num, highlight) {
    if (highlight) {
        $("#block" + num).css('background','green');
        $("#block" + num + ' a').css('color','white');
    } else {
        $("#block" + num).css('background','white');
        $("#block" + num + ' a').css('color','#0066CC');;
    }
}
$(document).ready(function(){
    userInfo = get_user_info();
    show_balance(userInfo);
    show_next_draw_info(get_next_draw_info());
    display_current_selection();
});

</script>
<body>
<div class="container">
<div class="row">
    <div id="balance"></div>
</div>
<div class="row">
    <div id="nextdraw"></div>
    <div id="prize"></div>
</div>
<div class="row">
    <div id="selection"></div>
</div>
<div class="row">
    <div id="block1" class="number_block"><a href="javascript:select_number(1);">1</div>
    <div id="block2" class="number_block"><a href="javascript:select_number(2);">2</div>
    <div id="block3" class="number_block"><a href="javascript:select_number(3);">3</div>
    <div id="block4" class="number_block"><a href="javascript:select_number(4);">4</div>
    <div id="block5" class="number_block"><a href="javascript:select_number(5);">5</div>
    <div id="block6" class="number_block"><a href="javascript:select_number(6);">6</div>
    <div id="block7" class="number_block"><a href="javascript:select_number(7);">7</div>
</div>
<div class="row">
    <div id="block8" class="number_block"><a href="javascript:select_number(8);">8</div>
    <div id="block9" class="number_block"><a href="javascript:select_number(9);">9</div>
    <div id="block10" class="number_block"><a href="javascript:select_number(10);">10</div>
    <div id="block11" class="number_block"><a href="javascript:select_number(11);">11</div>
    <div id="block12" class="number_block"><a href="javascript:select_number(12);">12</div>
    <div id="block13" class="number_block"><a href="javascript:select_number(13);">13</div>
    <div id="block14" class="number_block"><a href="javascript:select_number(14);">14</div>
</div>
<div class="row">
    <div id="block15" class="number_block"><a href="javascript:select_number(15);">15</div>
    <div id="block16" class="number_block"><a href="javascript:select_number(16);">16</div>
    <div id="block17" class="number_block"><a href="javascript:select_number(17);">17</div>
    <div id="block18" class="number_block"><a href="javascript:select_number(18);">18</div>
    <div id="block19" class="number_block"><a href="javascript:select_number(19);">19</div>
    <div id="block20" class="number_block"><a href="javascript:select_number(20);">20</div>
    <div id="block21" class="number_block"><a href="javascript:select_number(21);">21</div>
</div>
<div class="row">
    <div id="block22" class="number_block"><a href="javascript:select_number(22);">22</div>
    <div id="block23" class="number_block"><a href="javascript:select_number(23);">23</div>
    <div id="block24" class="number_block"><a href="javascript:select_number(24);">24</div>
    <div id="block25" class="number_block"><a href="javascript:select_number(25);">25</div>
    <div id="block26" class="number_block"><a href="javascript:select_number(26);">26</div>
    <div id="block27" class="number_block"><a href="javascript:select_number(27);">27</div>
    <div id="block28" class="number_block"><a href="javascript:select_number(28);">28</div>
</div>
<div class="row">
    <div id="block29" class="number_block"><a href="javascript:select_number(29);">29</div>
    <div id="block30" class="number_block"><a href="javascript:select_number(30);">30</div>
    <div id="block31" class="number_block"><a href="javascript:select_number(31);">31</div>
    <div id="block32" class="number_block"><a href="javascript:select_number(32);">32</div>
    <div id="block33" class="number_block"><a href="javascript:select_number(33);">33</div>
    <div id="block34" class="number_block"><a href="javascript:select_number(34);">34</div>
    <div id="block35" class="number_block"><a href="javascript:select_number(35);">35</div>
</div>
<div class="row">
    <div id="block36" class="number_block"><a href="javascript:select_number(36);">36</div>
    <div id="block37" class="number_block"><a href="javascript:select_number(37);">37</div>
    <div id="block38" class="number_block"><a href="javascript:select_number(38);">38</div>
    <div id="block39" class="number_block"><a href="javascript:select_number(39);">39</div>
    <div id="block40" class="number_block"><a href="javascript:select_number(40);">40</div>
    <div id="block41" class="number_block"><a href="javascript:select_number(41);">41</div>
    <div id="block42" class="number_block"><a href="javascript:select_number(42);">42</div>
</div>
<div class="row">
    <div id="block43" class="number_block"><a href="javascript:select_number(43);">43</div>
    <div id="block44" class="number_block"><a href="javascript:select_number(44);">44</div>
    <div id="block45" class="number_block"><a href="javascript:select_number(45);">45</div>
    <div id="block46" class="number_block"><a href="javascript:select_number(46);">46</div>
    <div id="block47" class="number_block"><a href="javascript:select_number(47);">47</div>
    <div id="block48" class="number_block"><a href="javascript:select_number(48);">48</div>
    <div id="block49" class="number_block"><a href="javascript:select_number(49);">49</div>
</div>
</div>
</body>
</html>
